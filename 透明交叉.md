# 背景知识
<!-- 透明渲染的难点,可能会遇到的问题,比如渲染错误,性能问题 -->


透明是一种重要的渲染效果，能显著提升场景的真实感和可视化系统的效率。然而，透明渲染却存在挑战。其基础是混合（Blending），这涉及简单的几何处理，却无需考虑显示世界中的各种问题。处理透明渲染时需要考虑到硬件问题，因此渲染本身是一个复杂的任务

在不需要处理透明的过程中,OpenGL 提供了一个深度缓存（Depth Buffer），通过这个缓存器，对需要绘制的不
透明 3D 物件，可以很简单的实现隐藏表面的剔除。




## 目前可以实现透明渲染的算法有如下方式
* 基于 CPU 的排序的透明渲染,
* 深度剥离
* 双层深度剥离
* 透明权重和透明平均权重
* 还有基于 GPU 排序的无序透明渲染


## 透明渲染是可以通过OpenGL 的自身特性进行简单实现的

对于透明物件的渲染，OpenGL 提供了 Alpha-Blending 技术来实现，然而，对于复
杂的不透明与透明物体共存的需求，单一的深度缓存跟 Alpha-Blending 并不能解决问
题

但是这种渲染技术存在一定的问题,

## 常见的解决思路

1. 深度缓冲

OpenGL 提供了一个深度缓存（Depth Buffer），通过这个缓存器，对需要绘制的不
透明 3D 物件，可以很简单的实现隐藏表面的剔除。

然而，遗憾的是，单一的深度缓存并不能解决透明物体的渲染问题，应该
一个透明物体不仅要被在它之前的不透明物件所遮挡，又不能档着它之后的其他物
件。

2. 画家算法
如果对场景中的所有物体进行排序，那我们就可以先画远处的，再画近处的，这样就可以确保前面例子中的 B 可以在 A 之前绘制,画家算法就是基于这种思路的解决方法。

但是他存在两个问题,一个就是最基础的性能问题,需要把所有的图形都渲染出来,然后再让前面的渲染结果覆盖后面的结果

还有一种情况及时发生交叉情况,显示情况中物体之间不是简单的分离的状态,各种状态是叠加的如图:
![alt text](image-3.png)

如果 A 是个玻璃杯而 B 是它里面的一个玻璃球时就是这种情况了。现在我们就没
法对它们进行排序了，因为 A 的一部分比 B 近，而另一部分又比 B 远。

在这里我们注意到,题目的要求中需要对透明交叉的物体进行渲染,这里就需要注意到不能通过简单的深度缓冲和画家算法进行绘制


# 算法描述
   1. 深度剥离算法

   2. 介绍什么内容?
   3. 重点还是描述深度无关算法.

# 实现细节
   1. 细节问题,算法通过部分伪代码,或者不能完成的代码来完成
   2. 写点项目准备的代码. 透明部分的代码还是算了吧.
   3. 但是这里需要写主要的几个步骤,并且简要的书写对应的代码

# 优化的部分
   1. 剪裁窗口,只渲染我们需要的内容,用于自定义剪裁框以将3D视图显示限制为3D空间的一部分。可以帮助处理复杂的模型和场景。
在本项目中,摄像机变量就完成了可视区域的处理,能够集中处理用户可以看见的区域,不去渲染用户用不到的区域
   2. Level Of Detail, 一种处理的思路,处理重点的区域,部分地区可以减少甚至不渲染,进行模糊处理
   3. 应用缓冲区,提高并行度和性能,以提高内存访问效率



# 名词解释

# 参考文献
[1]吴岱衡. 基于OpenGL开发的无序透明渲染[D].华南理工大学,2013.
[2]毛华庆. 基于GPU优化的三维实时渲染技术的研究[D].武汉大学,2010.
[3]吴博剑. 基于图像的透明物体重建与渲染[D].中国科学院大学(中国科学院深圳先进技术研究院),2020.DOI:10.27822/d.cnki.gszxj.2019.000011.
[4]李海梅. 基于CUDA的透明物体的实时渲染[D].上海交通大学,2014.


透明渲染介绍
https://learnopengl.com/Guest-Articles/2020/OIT/Introduction

权重混合 
https://jcgt.org/published/0002/02/09/

